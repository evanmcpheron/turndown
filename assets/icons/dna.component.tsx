import React, { useRef } from "react";

import { StyledIcon } from "./shared/icon.styled";
import type { IconProps } from "./shared/icon.types";
import type { MickeyObject } from "@/helpers/types/base.types";
import type { Dimensions } from "@/helpers/types/style.types";
import { usePointerEvent } from "@/helpers/hooks/usePointerEvent.hook";
import { removeUndefined } from "@/helpers/objects";

export const DnaIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone" | Dimensions;
  }
> = ({ type, size, color, active, className, style, ...more }) => {
  const domRef: MickeyObject = useRef(null);

  const { onPress, onOut, onMove, onUp, onDown, onOver, groupId } = more;
  const pointerEvents = {
    onPress,
    onOut,
    onMove,
    onUp,
    onDown,
    onOver,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    className,
    style: { ...(style || {}) },
    active,
    size,
    color,
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
                className="aps-icon-svg"
                fill={color}
              >
                <path
                  className="aps-icon-foreground"
                  d="M416 0c17.7 0 32 14.3 32 32 0 59.8-30.3 107.5-69.4 146.6-28 28-62.5 53.5-97.3 77.4l-2.5 1.7c-11.9 8.1-23.8 16.1-35.5 23.9l-1.6 1c-6 4-11.9 7.9-17.8 11.9-20.9 14-40.8 27.7-59.3 41.5h118.7c-9.8-7.4-20.1-14.7-30.7-22.1l7-4.7 3-2c15.1-10.1 30.9-20.6 46.7-31.6 25 18.1 48.9 37.3 69.4 57.7 39 39.2 69.3 86.9 69.3 146.7 0 17.7-14.3 32-32 32s-32-14.3-32-32H64c0 17.7-14.3 32-32 32S0 497.7 0 480c0-59.8 30.3-107.5 69.4-146.6 28-28 62.5-53.5 97.3-77.4-34.8-23.9-69.3-49.3-97.3-77.4C30.3 139.5 0 91.8 0 32 0 14.3 14.3 0 32 0s32 14.3 32 32h320c0-17.7 14.3-32 32-32m-77.4 384H109.4c-10.1 10.6-18.6 21.3-25.5 32h280.2c-6.8-10.7-15.3-21.4-25.5-32M109.4 128h229.2c10.1-10.7 18.6-21.3 25.5-32H83.9c6.8 10.7 15.3 21.3 25.5 32m55.4 48c18.4 13.8 38.4 27.5 59.3 41.5 20.9-14 40.8-27.7 59.3-41.5H164.7z"
                />
              </svg>
            );

          case "regular":
            return (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
                className="aps-icon-svg"
                fill={color}
              >
                <path
                  className="aps-icon-foreground"
                  d="M416 24c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 2.7-.1 5.4-.2 8H80.2c-.2-2.6-.2-5.3-.2-8C80 10.7 69.3 0 56 0S32 10.7 32 24c0 55.6 24.5 101.9 58.1 141.9 27.2 32.4 61.5 62 95.8 90.1-34.3 28.1-68.6 57.7-95.8 90.1C56.5 386.1 32 432.4 32 488c0 13.3 10.7 24 24 24s24-10.7 24-24c0-2.7.1-5.4.2-8h287.6c.2 2.6.2 5.3.2 8 0 13.3 10.7 24 24 24s24-10.7 24-24c0-55.6-24.5-101.9-58.1-141.9-20.6-24.5-45.2-47.3-70.8-69.2-8.7 7.1-17.3 14.1-25.7 20.9l-2.2 1.8c-3.4 2.7-6.7 5.5-10.1 8.1 11.2 9.4 22.1 18.8 32.3 28.3h-115c22-20.4 46.7-40.4 72.2-61 .3-.2.5-.4.8-.6l.7-.6c41.3-33.4 84.7-68.6 117.7-107.9C391.5 125.9 416 79.6 416 24M121.1 384h205.8c12.4 15.7 22.4 31.6 29.4 48H91.7c7-16.4 17-32.3 29.4-48M91.7 80h264.6c-7 16.4-17 32.3-29.4 48H121.1c-12.4-15.7-22.4-31.6-29.4-48m189.8 96c-17.8 16.4-37.2 32.6-57.5 49.1-20.3-16.5-39.7-32.7-57.5-49.1z"
                />
              </svg>
            );

          case "light":
            return (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
                className="aps-icon-svg"
                fill={color}
              >
                <path
                  className="aps-icon-foreground"
                  d="M400 0c8.8 0 16 7.2 16 16 0 120.2-94.2 188.6-179.7 250.9l-2.8 2.1c-37.8 27.5-73.9 54-102.9 83.1h187c-19.8-19.8-42.8-38.4-67.5-57 3.2-2.3 6.4-4.6 9.7-6.9 5.9-4.2 11.7-8.4 17.6-12.7C349.4 330.4 416 394.9 416 496c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-5.5-.2-10.8-.7-16H64.7c-.4 5.2-.7 10.5-.7 16 0 8.8-7.2 16-16 16s-16-7.2-16-16c0-113.2 83.6-180.5 164.8-240C115.6 196.5 32 129.2 32 16c0-8.8 7.2-16 16-16s16 7.2 16 16c0 5.5.2 10.8.7 16h318.6c.4-5.2.7-10.5.7-16 0-8.8 7.2-16 16-16m-22.4 64H70.4c6.5 23.4 17.6 44.5 32.2 64h242.9c14.6-19.5 25.7-40.6 32.2-64zm-60.1 96h-187c26.6 26.7 59.1 51.1 93.5 76.2 34.4-25.1 66.9-49.5 93.5-76.2M70.4 448h307.2c-6.5-23.5-17.6-44.5-32.2-64.1-.5 0-.9.1-1.4.1H104c-.5 0-.9 0-1.4-.1C88 403.5 76.8 424.5 70.4 448"
                />
              </svg>
            );

          case "thin":
            return (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
                className="aps-icon-svg"
                fill={color}
              >
                <path
                  className="aps-icon-foreground"
                  d="M408 0c4.4 0 8 3.6 8 8 0 60.3-24.1 107.6-59.5 147.9-35.1 40-81.7 73.5-127.4 106.3l-.4.3c-40.2 28.9-79.7 57.3-111.5 89.5h213.6c-21.7-22-47-42.2-73.7-62.1l2.6-1.9c3.7-2.6 7.4-5.3 11-7.9 31.4 23.5 61.4 48.2 85.8 76C391.9 396.4 416 443.7 416 504c0 4.4-3.6 8-8 8s-8-3.6-8-8c0-14.1-1.4-27.4-4.1-40H52.1c-2.7 12.6-4.1 25.9-4.1 40 0 4.4-3.6 8-8 8s-8-3.6-8-8c0-60.3 24.1-107.6 59.5-147.9 32.9-37.4 75.9-69.2 118.8-100.1-42.9-30.9-85.9-62.7-118.8-100.1C56.1 115.6 32 68.3 32 8c0-4.4 3.6-8 8-8s8 3.6 8 8c0 14.1 1.4 27.4 4.1 40h343.8c2.6-12.6 4.1-25.9 4.1-40 0-4.4 3.6-8 8-8m-16.2 64H56.2c9.1 29.9 25.4 56.1 46.3 80.1.5-.1 1-.1 1.5-.1h240c.5 0 1 0 1.5.1 20.9-24 37.2-50.2 46.3-80.1m-61 96H117.2c30.6 31 68.2 58.4 106.8 86.1 38.6-27.7 76.2-55.2 106.8-86.1M56.2 448h335.6c-9.1-29.9-25.4-56.1-46.3-80.1-.5.1-1 .1-1.5.1H104c-.5 0-1 0-1.5-.1-20.9 24-37.2 50.2-46.3 80.1"
                />
              </svg>
            );

          case "duotone":
            return (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
                className="aps-icon-svg"
                fill={color}
              >
                <path
                  className="aps-icon-background"
                  d="M416 512c17.7 0 32-14.3 32-32 0-59.8-30.3-107.5-69.4-146.6-28-28-62.5-53.5-97.3-77.4-13.1 9-26.4 17.9-39.5 26.6l-4 2.7c-4.6 3.1-9.2 6.2-13.8 9.2 20.9 14 40.8 27.7 59.3 41.5H164.8c-21.6 16.2-40.2 32.1-55.4 48h229.2c29.5 31 45.4 61.8 45.4 96 0 17.7 14.3 32 32 32M166.7 256c11.8-8.1 23.8-16.1 35.6-24l3.9-2.6c6-4 11.9-8 17.8-11.9-41.8-28.1-80.1-54.9-109.4-84.1-12.4-12.5-22.7-24.9-30.7-37.4h280.2c13-20.5 19.9-41.5 19.9-64H64C64 14.3 49.7 0 32 0S0 14.3 0 32c0 59.8 30.3 107.5 69.4 146.6 28 28 62.5 53.5 97.3 77.4"
                />
                <path
                  className="aps-icon-foreground"
                  d="M448 32c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 34.2-15.9 65-45.4 96H109.4c15.2 15.9 33.8 31.8 55.4 48h118.5c-23.6 17.7-49.7 35.2-77 53.4l-1.6 1c-46.9 31.2-97.1 64.7-135.3 102.9C30.3 372.5 0 420.2 0 480c0 17.7 14.3 32 32 32s32-14.3 32-32h320c0-22.6-7-43.6-19.9-64H83.9c8-12.5 18.3-24.9 30.7-37.4 33.3-33.3 78.4-63.5 127.1-96l1.6-1c46.9-31.2 97.1-64.7 135.3-102.9C417.7 139.5 448 91.8 448 32"
                />
              </svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
