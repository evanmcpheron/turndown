import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styles";
export const SIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 320 512" fill={colors[colorName || "text"]}>
                <Path d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3Q49.45 388 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 320 512" fill={colors[colorName || "text"]}>
                <Path d="M91.2 90.6c-24 10.1-37.9 26.2-41.8 48-2.8 16.1-1 27.4 2.8 35.7 3.8 8.5 10.6 16.1 21.1 23.3 22.1 15.1 54.9 24.6 93.2 35.3.8.2 1.6.4 2.4.7 35.3 9.9 75.6 21.2 104.9 41.2 15.6 10.6 29.3 24.5 37.7 43.1 8.5 18.7 10.6 40 6.4 63.9-7.2 40.8-34.4 68.8-70.5 83.9-35.3 14.8-79.6 17.8-125.7 10.7h-.1c-24.5-3.9-64.3-17.2-90.9-26.2-5.3-1.8-10-3.4-14-4.7C4 441.4-2.9 427.8 1.2 415.2s17.7-19.5 30.3-15.4c4.9 1.6 10.5 3.5 16.3 5.4 26.9 9 61.2 20.4 81.3 23.6 40.4 6.2 75.1 2.9 99.8-7.5 24-10.1 37.9-26.2 41.8-48 2.8-16.1 1-27.4-2.8-35.7-3.8-8.5-10.6-16.1-21.1-23.3-22.1-15.1-54.9-24.6-93.2-35.3-.8-.2-1.6-.4-2.4-.7-35.3-9.9-75.6-21.2-104.9-41.2C30.7 226.5 17 212.6 8.6 194 .1 175.3-2 154 2.2 130.1l23.6 4.2-23.7-4c7.2-40.8 34.4-68.8 70.5-83.9 35.3-14.8 79.6-17.8 125.7-10.7 13.7 2.1 55.1 9.9 69.7 13.8 12.8 3.3 20.5 16.5 17.2 29.3S268.7 99.3 255.9 96c-12.4-3.2-52-10.8-64.9-12.8l3.6-23.7-3.6 23.6c-40.4-6.2-75.2-2.9-99.9 7.5z" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 320 512" fill={colors[colorName || "text"]}>
                <Path d="M83.4 75.8c-27.8 11.5-45.1 30.6-49.8 56.6-3.3 18.2-1.2 31.7 3.6 42.3 4.9 10.7 13.4 19.8 25.5 27.9 25 16.7 61.4 27 101.5 38 .6.2 1.1.3 1.7.5 38 10.5 79.3 21.8 109.1 41.8 15.5 10.4 28.7 23.6 36.8 41.1s10.3 37.9 6.1 61.3c-7 39-33.3 65.8-69.1 80.6-35.3 14.5-80.2 17.7-127.9 10.5h-.1c-25-3.9-66.1-17.4-94.4-26.7-5.7-1.9-10.9-3.6-15.3-5C2.7 442-1.9 433 .7 424.6s11.7-13 20.1-10.4c5 1.6 10.7 3.5 16.8 5.5 28.5 9.3 65.9 21.6 88 25.1 44 6.6 82.6 3.2 110.9-8.4 27.8-11.5 45.1-30.6 49.8-56.6 3.3-18.2 1.2-31.7-3.6-42.3-4.9-10.7-13.4-19.8-25.5-27.9-25-16.7-61.4-27-101.5-38l-1.7-.5c-38-10.5-79.3-21.8-109.1-41.8-15.5-10.4-28.7-23.6-36.8-41.1-8-17.7-10.2-38-6-61.4 7-39 33.3-65.8 69.1-80.6 35.3-14.5 80.2-17.7 127.9-10.5 14.3 2.2 57.8 10.3 72.9 14.1 8.6 2.2 13.7 10.9 11.5 19.5S272.6 83 264 80.8c-13.6-3.5-55.9-11.4-69.7-13.5l2.4-15.8-2.4 15.8c-44-6.6-82.7-3.3-111 8.4z" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 320 512" fill={colors[colorName || "text"]}>
                <Path d="M75.7 60.9c-31.6 12.8-52.3 34.8-57.9 65.3-3.7 20.3-1.5 36.1 4.5 48.9 6.1 12.9 16.3 23.5 30.1 32.5 27.8 18.4 67.9 29.3 109.7 40.6l.9.2c40.8 11 83.2 22.6 113.4 42.5 15.4 10.2 28.1 22.8 35.7 39.1 7.7 16.4 10 35.7 5.8 58.6-6.8 37.1-32.1 62.8-67.6 77.2-35.3 14.3-80.9 17.6-130.3 10.3-25.6-3.9-67.9-17.6-97.8-27.3-6.1-2-11.7-3.8-16.6-5.3-4.2-1.3-6.6-5.8-5.2-10s5.8-6.6 10-5.2c5.1 1.6 11 3.5 17.3 5.5 30 9.7 70.5 22.8 94.7 26.5 47.5 7 90.1 3.6 121.9-9.3 31.6-12.8 52.3-34.8 57.9-65.3 3.7-20.2 1.5-36.1-4.5-48.9-6.1-12.9-16.3-23.5-30.1-32.5-27.8-18.4-67.9-29.3-109.7-40.6l-.9-.2c-40.8-11-83.2-22.6-113.4-42.5-15.4-10.2-28.1-22.8-35.7-39.1-7.7-16.4-9.9-35.7-5.8-58.6 6.7-37.1 32.1-62.8 67.6-77.2C105 31.8 150.6 28.5 200 35.8c14.9 2.2 60.5 10.6 76 14.5 4.3 1.1 6.9 5.4 5.8 9.7s-5.4 6.9-9.7 5.8c-14.8-3.7-59.8-12-74.5-14.2-47.5-7-90.1-3.6-121.9 9.3" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 320 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M99.1 105.4C79 114 68.2 127.2 65.2 144.8c-2.4 14.1-.7 23.2 2 29.4 2.8 6.3 7.9 12.4 16.7 18.6 19.2 13.4 48.3 22.1 84.9 32.5 1 .3 1.9.6 2.9.8 32.7 9.3 72 20.6 100.9 40.7 15.7 10.9 29.9 25.5 38.6 45.1 8.8 19.8 10.8 42 6.6 66.3-7.3 42.5-35.3 71.7-71.8 87.3-35.4 15.2-79.1 17.9-123.7 10.9h-.2c-24-3.9-62.7-17.1-87.6-25.6-4.8-1.7-9.2-3.1-12.8-4.3-16.6-5.7-25.6-23.8-20.1-40.6s23.7-25.8 40.5-20.3Q49.45 388 58 391c25.4 8.6 56.4 19.2 74.4 22.1 36.8 5.7 67.5 2.5 88.5-6.5 20.1-8.6 30.8-21.8 33.9-39.4 2.4-14.1.7-23.2-2-29.4-2.8-6.3-7.9-12.4-16.7-18.6-19.2-13.4-48.3-22.1-84.9-32.5-1-.3-1.9-.6-2.9-.8-32.7-9.3-72-20.6-100.9-40.7-15.7-10.9-29.9-25.5-38.6-45.1-8.8-19.8-10.8-42-6.6-66.3l31.5 5.5-31.6-5.4c7.3-42.5 35.3-71.7 71.8-87.3 35.4-15.2 79.1-17.9 123.7-10.9 13 2 52.4 9.6 66.6 13.4 17.1 4.5 27.2 22.1 22.7 39.2s-22.1 27.2-39.2 22.7c-11.2-3-48.1-10.2-60.1-12l4.9-31.5-4.9 31.5c-36.9-5.8-67.5-2.5-88.6 6.5z"
                />
                <Path d="" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
