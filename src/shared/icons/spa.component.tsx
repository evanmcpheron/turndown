import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styled";
export const SpaIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M183.1 235.3c33.7 20.7 62.9 48.1 85.8 80.5 7 9.9 13.4 20.3 19.1 31 5.7-10.8 12.1-21.1 19.1-31 22.9-32.4 52.1-59.8 85.8-80.5C437.6 207.8 490.1 192 546 192h9.9c11.1 0 20.1 9 20.1 20.1 0 148-119.9 267.9-267.9 267.9h-40.2C119.9 480 0 360.1 0 212.1 0 201 9 192 20.1 192H30c55.9 0 108.4 15.8 153.1 43.3M301.5 37.6c15.7 16.9 61.1 71.8 84.4 164.6-38 21.6-71.4 50.8-97.9 85.6-26.5-34.8-59.9-63.9-97.9-85.6 23.2-92.8 68.6-147.7 84.4-164.6 3.5-3.7 8.4-5.6 13.5-5.6s10 1.9 13.5 5.6" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M288 92.1c21.2 24.9 52.1 69.7 68.6 134.5 13.3-10.3 27.4-19.5 42.2-27.6-27.3-91.6-79.3-145.6-96.8-161.8-3.8-3.5-8.8-5.2-13.9-5.2s-10.1 1.7-13.9 5.2c-17.5 16.2-69.5 70.1-96.8 161.8 14.8 8.1 28.9 17.3 42.2 27.6 16.5-64.8 47.3-109.7 68.6-134.5zm-96 377c22.9 6.7 47 10.5 72 10.9h48c25-.4 49.1-4.1 72-10.9 111-32.7 192-135.4 192-257 0-11.1-9-20.1-20.1-20.1-61.7 0-121.7 17.9-171.9 54.1-41.8 30-75.1 71-96 118.7-20.9-47.7-54.2-88.6-96-118.7C141.8 209.9 81.8 192 20.1 192 9 192 0 201 0 212.1c0 121.6 81 224.3 192 257m0-50.5c-75.2-27.7-131.2-95.4-142.1-177.2 55.1 5.9 104.6 30.5 142.1 67.2 33.5 32.9 57.4 75.5 67.2 123.2-23.5-.9-46.1-5.5-67.2-13.3zm192 0c-21.1 7.7-43.6 12.4-67.2 13.3 9.7-47.8 33.7-90.4 67.2-123.2 37.5-36.8 87-61.3 142.1-67.2-10.9 81.7-66.9 149.4-142.1 177z" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M371.3 219.5c9-6.5 18.5-12.6 28.2-18.1-27.1-93.1-79.8-147.8-97.5-164.1-3.8-3.5-8.8-5.2-13.9-5.2s-10.1 1.7-13.9 5.2c-17.7 16.4-70.4 71.1-97.5 164.1 9.7 5.5 19.1 11.6 28.2 18.1C225.7 140 267.2 89.6 288 68.3c20.8 21.3 62.3 71.7 83.3 151.2M192 469.1c24.1 7.1 49.5 10.9 75.9 10.9h40.2c26.4 0 51.8-3.8 75.9-10.9 111-32.7 192-135.4 192-257 0-11.1-9.1-20.1-20.2-20.1-64.5 0-124.1 21.6-171.8 57.9-43.6 33.2-77.4 78.7-96 131.2-18.6-52.6-52.4-98.1-96-131.2C144.2 213.6 84.6 192 20.2 192 9.1 192 0 201 0 212.1c0 121.6 81 224.3 192 257m0-34.4C103.7 403.8 37.3 322.6 32.3 224.3c61.5 2.9 117.4 28 159.7 67.4 43 40.1 72 94.9 78.6 156.3-27.3 0-53.8-4.7-78.6-13.3m192 0c-24.8 8.6-51.2 13.3-78.6 13.3C312 386.6 341 331.7 384 291.7c42.3-39.4 98.2-64.4 159.7-67.4-5 98.3-71.4 179.5-159.7 210.4" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M182.7 244.9c-4.7-3.4-9.5-6.7-14.4-9.8-2.7-1.7-5.5-3.4-8.3-5.1-41-24.2-88.9-38-139.9-38C9 192 0 201 0 212.1c0 96.7 51.2 181.4 128 228.5 40.7 25 88.6 39.4 139.9 39.4h40.2c51.8 0 100.2-14.7 141.2-40.2C525.4 392.5 576 308.2 576 212.1c0-11.1-9-20.1-20.1-20.1-51 0-98.8 13.9-139.9 38-63 37.1-110 98.5-128 171.3-15.8-63.8-53.8-118.8-105.3-156.4m7.7-33.6c25.5-92.7 77.8-146.8 94.5-162.3.5-.5 1.4-1 3.1-1s2.6.5 3.1 1l10.5-11.3L291.1 49c16.8 15.5 69 69.6 94.6 162.3 4.6-3.1 9.3-6 14.1-8.8-27-93.7-80.1-148.8-97.8-165.2-3.8-3.5-8.8-5.2-13.9-5.2s-10.1 1.7-13.9 5.2c-17.8 16.4-70.8 71.5-97.8 165.2 4.8 2.8 9.5 5.8 14.1 8.8zM267.9 464c-38.6 0-75.2-8.7-107.9-24.2C74.9 399.4 16 312.6 16 212.1c0-2.2 1.8-4.1 4.1-4.1 56.1 0 108 17.8 150.5 48 65.3 46.4 108.3 122.2 109.4 208zm40.2 0H296c1.1-85.8 44-161.6 109.3-208 42.5-30.2 94.5-48 150.5-48 2.3 0 4.1 1.9 4.1 4.1 0 100.5-58.9 187.3-144 227.7-32.6 15.5-69.2 24.2-107.8 24.2" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M183.1 235.3c44 27.1 80.3 65.5 104.9 111.6 24.5-46 60.9-84.5 104.9-111.6-19.6-113-73.8-178.8-91.3-197.7-3.6-3.7-8.5-5.6-13.6-5.6s-10 1.9-13.5 5.6c-17.5 18.8-71.8 84.7-91.3 197.7z"
                />
                <Path d="M267.9 480h40.2c148 0 267.9-119.9 267.9-267.9 0-11.1-9-20.1-20.1-20.1H546c-110.8 0-208.5 62-258 154.9C238.5 254 140.8 192 30 192h-9.9C9 192 0 201 0 212.1 0 360.1 119.9 480 267.9 480" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
