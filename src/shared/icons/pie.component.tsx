import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styled";
export const PieIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M525.8 225.1c3.1 7.8 8.8 14.4 16.3 18.2l16.2 8.1c15.8 7.9 22.2 27.1 14.3 42.9s-27.1 22.2-42.9 14.3l-29.6-14.8c-14.7-7.4-31.7-8.8-47.4-3.9l-41.6 12.8c-23.3 7.2-48.3 6.5-71.2-1.8l-30-10.9a64.32 64.32 0 0 0-43.7 0l-30 10.9c-22.9 8.3-47.9 9-71.2 1.8l-41.6-12.8c-15.7-4.8-32.7-3.4-47.4 3.9l-29.7 14.8c-15.8 7.9-35 1.5-42.9-14.3s-1.5-35 14.3-42.9l16.2-8.1c7.5-3.8 13.2-10.4 16.3-18.2C87.9 130.7 180.1 64 288 64s200.1 66.7 237.8 161.1m-326.6-95.4c-7.9-4-17.5-.7-21.5 7.2l-16 32c-4 7.9-.7 17.5 7.2 21.5 2.2 1.1 4.5 1.6 6.8 1.7h.7c5.7-.1 11.2-3.3 14-8.8l16-32c4-7.9.7-17.5-7.2-21.5zm177.7 0c-7.9 4-11.1 13.6-7.2 21.5l16 32c2.7 5.5 8.2 8.7 14 8.8h.7c2.3 0 4.6-.6 6.8-1.7 7.9-4 11.1-13.6 7.2-21.5l-16-32c-4-7.9-13.6-11.1-21.5-7.2zM288 128c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16s16-7.2 16-16v-32c0-8.8-7.2-16-16-16m10.9 192.1 30 10.9c29.5 10.7 61.6 11.5 91.6 2.3l41.6-12.8c7.9-2.4 16.4-1.7 23.7 2l29.6 14.8c.4.2.9.4 1.3.6l-22.1 66.4c-8.7 26.1-33.2 43.8-60.7 43.8H142.2c-27.5 0-52-17.6-60.7-43.8l-22.2-66.4c.4-.2.9-.4 1.3-.6l29.6-14.8c7.4-3.7 15.9-4.4 23.7-2l41.6 12.8c30 9.2 62.1 8.4 91.6-2.3l30-10.9c7.1-2.6 14.8-2.6 21.9 0z" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M525.8 225.1c3.1 7.8 8.8 14.4 16.3 18.2l16.2 8.1c15.8 7.9 22.2 27.1 14.3 42.9s-27.1 22.2-42.9 14.3l-29.6-14.8c-14.7-7.4-31.7-8.8-47.4-3.9l-41.6 12.8c-23.3 7.2-48.3 6.5-71.2-1.8l-30-10.9a64.32 64.32 0 0 0-43.7 0l-30 10.9c-22.9 8.3-47.9 9-71.2 1.8l-41.6-12.8c-15.7-4.8-32.7-3.4-47.4 3.9l-29.7 14.8c-15.8 7.9-35 1.5-42.9-14.3s-1.5-35 14.3-42.9l16.2-8.1c7.5-3.8 13.2-10.4 16.3-18.2C87.9 130.7 180.1 64 288 64s200.1 66.7 237.8 161.1m-326.6-95.4c-7.9-4-17.5-.7-21.5 7.2l-16 32c-4 7.9-.7 17.5 7.2 21.5 2.2 1.1 4.5 1.6 6.8 1.7h.7c5.7-.1 11.2-3.3 14-8.8l16-32c4-7.9.7-17.5-7.2-21.5zm177.7 0c-7.9 4-11.1 13.6-7.2 21.5l16 32c2.7 5.5 8.2 8.7 14 8.8h.7c2.3 0 4.6-.6 6.8-1.7 7.9-4 11.1-13.6 7.2-21.5l-16-32c-4-7.9-13.6-11.1-21.5-7.2zM288 128c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16s16-7.2 16-16v-32c0-8.8-7.2-16-16-16M90.2 322.4c4.2-2.1 8.8-3.2 13.4-3.4l23.3 70c2.2 6.5 8.3 10.9 15.2 10.9h291.7c6.9 0 13-4.4 15.2-10.9l23.3-70c4.6.1 9.2 1.3 13.4 3.4l29.6 14.8c.4.2.9.4 1.3.6l-22.1 66.4c-8.7 26.1-33.2 43.8-60.7 43.8H142.1c-27.5 0-52-17.6-60.7-43.8l-22.1-66.3c.4-.2.9-.4 1.3-.6l29.6-14.8z" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M288 80c-94.5 0-176.3 54.6-215.4 134.1-4.7 9.5-12.3 17.9-22.5 22.9l-9.3 4.6c-7.9 4-11.1 13.6-7.2 21.5s13.6 11.1 21.5 7.2l39.4-19.7c11.8-5.9 25.5-6.7 37.9-2.2l34.8 12.7c21.2 7.7 44.4 7.7 65.6 0l38.8-14.1c10.6-3.9 22.2-3.9 32.8 0l38.8 14.1c21.2 7.7 44.4 7.7 65.6 0l34.8-12.7c12.4-4.5 26.1-3.7 37.9 2.2l39.4 19.7c7.9 4 17.5.7 21.5-7.2s.7-17.5-7.2-21.5l-9.3-4.6c-10.2-5.1-17.8-13.4-22.5-22.9C464.3 134.6 382.5 80 288 80M43.8 200C88.2 110 180.8 48 288 48s199.8 62 244.2 152c1.9 3.9 4.8 6.8 8.1 8.5l9.3 4.6c23.7 11.9 33.3 40.7 21.5 64.4s-40.7 33.3-64.4 21.5l-39.4-19.7c-3.9-2-8.5-2.2-12.6-.7l-34.8 12.7a127.75 127.75 0 0 1-87.5 0l-38.8-14.1c-3.5-1.3-7.4-1.3-10.9 0l-38.8 14.1a127.75 127.75 0 0 1-87.5 0l-34.8-12.7c-4.1-1.5-8.7-1.2-12.6.7l-39.5 19.6c-23.7 11.9-52.5 2.2-64.4-21.5S2.9 224.9 26.6 213l9.3-4.6c3.2-1.6 6.1-4.5 8.1-8.5zm14.7 135.4c11.4-.9 22-3 31.8-5.8l23.3 69.9c3.3 9.8 12.4 16.4 22.8 16.4h303.3c10.3 0 19.5-6.6 22.8-16.4l23.3-69.9c9.8 2.8 20.4 4.8 31.8 5.8l-24.8 74.3c-7.6 22.9-29 38.3-53.1 38.3H136.4c-24.1 0-45.5-15.4-53.1-38.3zm147.8-184.2-16 32c-4 7.9-13.6 11.1-21.5 7.2s-11.1-13.6-7.2-21.5l16-32c4-7.9 13.6-11.1 21.5-7.2s11.1 13.6 7.2 21.5m192-14.3 16 32c4 7.9.7 17.5-7.2 21.5s-17.5.7-21.5-7.2l-16-32c-4-7.9-.7-17.5 7.2-21.5s17.5-.7 21.5 7.2M304 144v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32c0-8.8 7.2-16 16-16s16 7.2 16 16" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path d="M288 64C180 64 88.1 133 54.1 229.4c-1.3 3.8-5 6.6-9.3 6.6-15.5 0-28 12.5-28 28s12.5 28 28 28c26.5 0 47.3-8.8 62-18.3 5-3.2 11.5-3.6 16.9-.8 18.2 9.4 44.6 19.1 76.3 19.1s58.1-9.7 76.3-19.1c7.3-3.8 16-3.8 23.4 0 18.2 9.4 44.6 19.1 76.3 19.1s58.1-9.7 76.3-19.1c5.4-2.8 11.9-2.4 16.9.8 14.7 9.5 35.5 18.3 62 18.3 15.5 0 28-12.5 28-28s-12.5-28-28-28c-4.3 0-7.9-2.8-9.3-6.6C487.9 133 396 64 288 64M40.4 220.2C77.7 119.7 174.5 48 288 48s210.3 71.7 247.6 172.2c22.2 2.2 39.6 21 39.6 43.8 0 24.3-19.7 44-44 44-30.2 0-54-10.1-70.7-20.8-.3-.2-.6-.2-.9-.1C440 297.3 411 308 376 308s-64-10.7-83.7-20.9c-2.7-1.4-6-1.4-8.7 0C264 297.3 235 308 200 308s-64-10.7-83.7-20.9l3.7-7.1-3.7 7.1c-.2-.1-.6-.1-.9.1C98.8 297.9 75 308 44.8 308c-24.3 0-44-19.7-44-44 0-22.8 17.4-41.6 39.6-43.8m18.1 115.2q8.4-.75 16.2-2.1l21.9 65.8c6.5 19.6 24.9 32.8 45.5 32.8h291.8c20.7 0 39-13.2 45.5-32.8l21.9-65.8c5.2.9 10.6 1.7 16.2 2.1l-22.9 68.8c-8.7 26.1-33.2 43.8-60.7 43.8H142.1c-27.5 0-52-17.6-60.7-43.8zm140.7-195.8-24 48c-2 4-6.8 5.6-10.7 3.6s-5.6-6.8-3.6-10.7l24-48c2-4 6.8-5.6 10.7-3.6s5.6 6.8 3.6 10.7m192-7.2 24 48c2 4 .4 8.8-3.6 10.7s-8.8.4-10.7-3.6l-24-48c-2-4-.4-8.8 3.6-10.7s8.8-.4 10.7 3.6M296 136v48c0 4.4-3.6 8-8 8s-8-3.6-8-8v-48c0-4.4 3.6-8 8-8s8 3.6 8 8" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 576 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="m49.1 307.2 32.3 97c8.7 26.1 33.2 43.8 60.7 43.8h291.7c27.5 0 52-17.6 60.7-43.8l32.3-97c-8.9-4.5-17.9-8.9-26.8-13.4-14.7-7.4-31.7-8.8-47.4-3.9-13.9 4.3-27.7 8.5-41.6 12.8-23.3 7.2-48.3 6.5-71.2-1.8-10-3.6-20-7.3-30-10.9-1.8-.6-3.6-1.2-5.4-1.7s-3.6-.9-5.4-1.2c-3.7-.6-7.4-1-11.1-1-7.4 0-14.8 1.3-21.9 3.9-10 3.6-20 7.3-30 10.9-22.9 8.3-47.9 9-71.2 1.8-13.9-4.3-27.7-8.5-41.6-12.8-15.7-4.8-32.6-3.4-47.3 3.9-9.1 4.5-18 9-27 13.5z"
                />
                <Path d="M542.1 243.3c-7.5-3.8-13.2-10.4-16.3-18.2C488.1 130.7 395.8 64 288 64S87.9 130.7 50.2 225.1c-3.1 7.8-8.8 14.4-16.3 18.2l-16.2 8.1c-15.8 7.9-22.2 27.1-14.3 42.9s27.1 22.2 42.9 14.3l29.6-14.8c14.7-7.4 31.7-8.8 47.4-3.9l41.6 12.8c23.3 7.2 48.3 6.5 71.2-1.8l30-10.9c14.1-5.1 29.6-5.1 43.7 0l30 10.9c22.9 8.3 47.9 9 71.2 1.8l41.6-12.8c15.7-4.8 32.7-3.4 47.4 3.9l29.6 14.8c15.8 7.9 35 1.5 42.9-14.3s1.5-35-14.3-42.9l-16.2-8.1zm-335.8-92.1-16 32c-4 7.9-13.6 11.1-21.5 7.2s-11.1-13.6-7.2-21.5l16-32c4-7.9 13.6-11.1 21.5-7.2s11.1 13.6 7.2 21.5m192-14.3 16 32c4 7.9.7 17.5-7.2 21.5s-17.5.7-21.5-7.2l-16-32c-4-7.9-.7-17.5 7.2-21.5s17.5-.7 21.5 7.2M304 144v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32c0-8.8 7.2-16 16-16s16 7.2 16 16" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
