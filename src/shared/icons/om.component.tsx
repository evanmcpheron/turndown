import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styles";
export const OmIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M379.3 4.7c-6.2-6.2-16.4-6.2-22.6 0l-16 16c-6.2 6.2-6.2 16.4 0 22.6l16 16c6.2 6.2 16.4 6.2 22.6 0l16-16c6.2-6.2 6.2-16.4 0-22.6zm-98.3 62c-2.2-1.5-4.9-2.5-7.7-2.7-.6 0-1.3-.1-1.9 0-3.9.2-7.4 1.7-10.1 4.2-.9.8-1.6 1.7-2.3 2.6-1.7 2.4-2.7 5.3-2.9 8.5v2.1c.2 2.2.9 4.3 1.9 6.2l.3.6c.3.6.8 1.4 1.4 2.4 1.2 2 2.9 4.8 5.1 8.2 4.4 6.7 11.1 15.5 20 24.4 17.6 17.9 45.5 36.8 83.2 36.8 31.2 0 56.6-10.4 73.9-20.2 8.7-5 15.6-9.9 20.4-13.8 2.4-1.9 4.3-3.6 5.7-4.9.7-.6 1.3-1.2 1.7-1.6l.6-.5.1-.1.1-.1c5.9-5.8 9.5-13.9 9.5-22.8 0-17.7-14.3-32-32-32-8.7 0-16.7 3.5-22.4 9.2-.1.1-.2.2-.5.4-.5.5-1.5 1.3-2.8 2.4-2.7 2.2-6.8 5.2-12.1 8.2C399.4 90.4 384.8 96 368 96c-20.8 0-42.4-7-59.5-14.6-8.4-3.7-15.4-7.5-20.3-10.3-2.4-1.4-4.3-2.5-5.6-3.3-.6-.4-1.1-.7-1.4-.9l-.3-.2zM115.2 169.6c8-6 17.9-9.6 28.8-9.6 26.5 0 48 21.5 48 48s-21.5 48-48 48h-34.2c-7.6 0-13.8 6.2-13.8 13.8 0 1.5.2 2.9.7 4.4l8 24c4.4 13.1 16.6 21.9 30.4 21.9H160c35.3 0 64 28.7 64 64s-28.7 64-64 64c-50.8 0-82.7-21.5-102.2-42.8-9.9-10.8-16.6-21.6-20.9-29.7-2.1-4-3.6-7.3-4.5-9.6-.5-1.1-.8-2-1-2.5l-.2-.5c-.3-.9-.7-1.8-1.1-2.6-1.2-2.2-2.8-4-4.7-5.4s-4.1-2.3-6.5-2.8c-1.4-.3-2.9-.3-4.4-.2-2.5.2-4.8 1-6.8 2.3-1.1.7-2.2 1.5-3.1 2.5-2.4 2.5-4.1 5.8-4.5 9.5-.1.6-.1 1.1-.1 1.7 0 .8.1 1.7.2 2.5v.1c0 .3.1.8.2 1.3.2 1.1.4 2.7.8 4.6.8 3.9 2 9.4 3.9 15.9 3.8 13 10.3 30.4 21.3 48C48.7 476.2 89.4 512 160 512c70.7 0 128-57.3 128-128 0-23.3-6.2-45.2-17.1-64h22.6c25.5 0 49.9-10.1 67.9-28.1l26.5-26.5c6-6 14.1-9.4 22.6-9.4h5.5c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32-25.7 0-41.4-12.5-51.2-25.6-5-6.7-8.4-13.4-10.5-18.6-1.1-2.5-1.8-4.6-2.2-6-.2-.7-.4-1.2-.5-1.5l-.1-.2c-.3-1.3-.8-2.6-1.5-3.8-1.1-2-2.6-3.8-4.4-5.1-2.7-2-6-3.2-9.6-3.2h-.2c-8 .1-14.6 6.1-15.6 13.9 0 .3-.1.6-.2 1.1-.1.9-.3 2.1-.4 3.6-.3 3-.6 7.3-.6 12.4 0 10.1 1.1 23.9 5.8 38.1 4.8 14.3 13.4 29.3 28.6 40.7 15.3 11.5 35.9 18.2 62.6 18.2 53 0 96-43 96-96v-96c0-53-43-96-96-96h-5.5c-25.5 0-49.9 10.1-67.9 28.1l-26.5 26.5c-6 6-14.1 9.4-22.6 9.4h-48.3c6.9-14.5 10.8-30.8 10.8-48 0-61.9-50.1-112-112-112-25.2 0-48.5 8.3-67.2 22.4-14.1 10.6-17 30.7-6.4 44.8s30.7 17 44.8 6.4" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M356.7 4.7c6.2-6.2 16.4-6.2 22.6 0l16 16c6.2 6.2 6.2 16.4 0 22.6l-16 16c-6.2 6.2-16.4 6.2-22.6 0l-16-16c-6.2-6.2-6.2-16.4 0-22.6zM144 152c-12.6 0-24.2 4.2-33.6 11.2-10.6 8-25.6 5.8-33.6-4.8s-5.8-25.6 4.8-33.6C99 111.7 120.6 104 144 104c57.4 0 104 46.6 104 104 0 20.6-6 39.8-16.3 56h62.2c14.8 0 29-5.9 39.5-16.4l20.7-20.7c17.2-17.2 40.6-26.9 65-26.9 50.7 0 91.9 41.1 91.9 91.9V388c0 50.8-41.2 92-92 92s-92-41.2-92-92v-4c0-13.3 10.7-24 24-24s24 10.7 24 24v4c0 24.3 19.7 44 44 44s44-19.7 44-44v-96.1c0-24.2-19.6-43.9-43.9-43.9-11.6 0-22.8 4.6-31 12.9l-20.7 20.7C348.9 301 322.5 312 294.9 312h-10.3.4-32.4c17.2 20.8 27.6 47 27.6 76 0 70.2-60.9 124-132 124S16 458.2 16 388c0-13.3 10.7-24 24-24s24 10.7 24 24c0 40.3 35.8 76 84 76s84-35.7 84-76-35.8-76-84-76h-20c-13.3 0-24-10.7-24-24s10.7-24 24-24h14.7c30.9 0 56-25.1 56-56s-25.1-56-56-56zm154.8-86.9C313.1 83.1 338.2 96 368 96s54.9-12.9 69.2-30.9c8.2-10.4 23.3-12.1 33.7-3.9s12.1 23.3 3.9 33.7c-24 30.3-63.4 49.1-106.8 49.1s-82.8-18.8-106.8-49.1c-8.2-10.4-6.5-25.5 3.9-33.7s25.5-6.5 33.7 3.9" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M356.7 4.7c6.2-6.2 16.4-6.2 22.6 0l40 40c6.2 6.2 6.2 16.4 0 22.6l-40 40c-6.2 6.2-16.4 6.2-22.6 0l-40-40c-6.2-6.2-6.2-16.4 0-22.6zM350.6 56 368 73.4 385.4 56 368 38.6zM144 128c-14.4 0-27.7 4.8-38.4 12.8-7.1 5.3-17.1 3.9-22.4-3.2s-3.9-17.1 3.2-22.4c16-12.1 36-19.2 57.6-19.2 53 0 96 43 96 96 0 24.6-9.2 47-24.4 64h76.2c17 0 33.2-6.7 45.2-18.7l19-19c16.8-16.8 39.6-26.2 63.3-26.2 49.4 0 89.5 40.1 89.5 89.5V392c0 48.6-39.4 88-88 88H408c-48.6 0-88-39.4-88-88v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 30.9 25.1 56 56 56h16c30.9 0 56-25.1 56-56V281.5c0-31.8-25.8-57.5-57.5-57.5-15.3 0-29.9 6.1-40.7 16.9l-19 19c-18 18-42.4 28.1-67.8 28.1h-10.4.4-45.3c29.6 23.1 48.7 57.1 48.7 96 0 72.6-66.5 128-144 128S0 456.6 0 384c0-8.8 7.2-16 16-16s16 7.2 16 16c0 51.1 48.1 96 112 96s112-44.9 112-96-48.1-96-112-96h-16c-8.8 0-16-7.2-16-16s7.2-16 16-16h14.7c35.3 0 64-28.7 64-64s-28.7-64-64-64zm148.5-33.9c15.9 20 43.4 33.9 75.5 33.9s59.6-13.9 75.5-33.9c5.5-6.9 15.6-8.1 22.5-2.6s8.1 15.6 2.6 22.5c-22.5 28.2-59.5 46-100.6 46s-78.1-17.8-100.5-46.1c-5.5-6.9-4.3-17 2.6-22.5s17-4.3 22.5 2.6z" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M351 13.7c9.4-9.4 24.6-9.4 33.9 0L402.3 31c9.4 9.4 9.4 24.6 0 33.9L385 82.3c-9.4 9.4-24.6 9.4-33.9 0L333.7 65c-9.4-9.4-9.4-24.6 0-33.9zM373.7 25c-3.1-3.1-8.2-3.1-11.3 0L345 42.3c-3.1 3.1-3.1 8.2 0 11.3L362.3 71c3.1 3.1 8.2 3.1 11.3 0L391 53.7c3.1-3.1 3.1-8.2 0-11.3zm-232.9 87c-18 0-34.6 5.9-48 16-3.5 2.7-8.5 1.9-11.2-1.6s-1.9-8.5 1.6-11.2c16-12.1 36-19.2 57.6-19.2 53 0 96 43 96 96 0 33.4-17 62.8-42.9 80h100.4c19.1 0 37.4-7.6 50.9-21.1l17.4-17.4c16.4-16.4 38.5-25.5 61.7-25.5 48.2 0 87.2 39 87.2 87.2V400c0 44.2-35.8 80-80 80H416c-44.2 0-80-35.8-80-80v-8c0-4.4 3.6-8 8-8s8 3.6 8 8v8c0 35.3 28.7 64 64 64h16c35.3 0 64-28.7 64-64V295.2c0-39.3-31.9-71.2-71.2-71.2-18.9 0-37 7.5-50.3 20.9l-17.4 17.4c-16.5 16.5-38.8 25.8-62.2 25.8h-10.3.4-78.4.4-3.5c40.5 20.6 68.1 59 68.1 104 0 67.2-61.9 120-136 120S0 459.2 0 392c0-4.4 3.6-8 8-8s8 3.6 8 8c0 56.5 52.7 104 120 104s120-47.5 120-104-52.7-104-120-104h-8c-4.4 0-8-3.6-8-8s3.6-8 8-8h11.9c44.2 0 79.9-35.8 79.9-80s-35.8-80-80-80zm145.5-5c17.5 22.1 47.4 37 81.7 37s64.2-14.9 81.7-37c2.7-3.5 7.8-4 11.2-1.3s4 7.8 1.3 11.2c-20.8 26.2-55.4 43-94.3 43s-73.5-16.8-94.3-43c-2.7-3.5-2.2-8.5 1.3-11.2s8.5-2.2 11.2 1.3z" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M379.3 4.7c-6.2-6.2-16.4-6.2-22.6 0l-16 16c-6.2 6.2-6.2 16.4 0 22.6l16 16c6.2 6.2 16.4 6.2 22.6 0l16-16c6.2-6.2 6.2-16.4 0-22.6zm-98.4 62c-6-4-14-3.5-19.5 1.3s-7 12.7-3.7 19.2L272 80l-14.3 7.2v.1l.1.2.4.7c.3.6.8 1.4 1.4 2.4 1.2 2 2.9 4.8 5.1 8.2 4.4 6.7 11.1 15.5 20 24.4 17.7 17.9 45.6 36.8 83.3 36.8 31.2 0 56.6-10.4 73.9-20.2 8.7-5 15.6-9.9 20.4-13.8 2.4-1.9 4.3-3.6 5.7-4.9.7-.6 1.3-1.2 1.7-1.6l.6-.5.2-.2.1-.1L448 96.1l22.6 22.6c12.5-12.5 12.5-32.8 0-45.3-12.4-12.4-32.6-12.5-45.1-.2-.1.1-.2.2-.5.4-.5.5-1.5 1.3-2.8 2.4-2.7 2.2-6.8 5.2-12.1 8.2C399.4 90.4 384.8 96 368 96c-20.8 0-42.4-7-59.5-14.6-8.4-3.7-15.4-7.5-20.3-10.3-2.4-1.4-4.3-2.5-5.6-3.3-.6-.4-1.1-.7-1.4-.9z"
                />
                <Path d="M115.2 169.6c8-6 17.9-9.6 28.8-9.6 26.5 0 48 21.5 48 48s-21.5 48-48 48h-34.2c-7.6 0-13.8 6.2-13.8 13.8 0 1.5.2 2.9.7 4.4l8 24c4.4 13.1 16.6 21.9 30.4 21.9H160c35.3 0 64 28.7 64 64s-28.7 64-64 64c-50.8 0-82.7-21.5-102.2-42.8-9.9-10.8-16.6-21.6-20.9-29.7-2.1-4-3.6-7.3-4.5-9.6-.5-1.1-.8-2-1-2.5l-.2-.5v-.1c-2.6-7.8-10.7-12.3-18.7-10.5C4.4 354.2-.9 361.8.1 370l15.9-2-15.9 2v.1l.1.4c0 .3.1.8.2 1.3.2 1.1.4 2.7.8 4.6.8 3.9 2 9.4 3.9 15.9 3.8 13 10.3 30.4 21.3 48C48.7 476.2 89.4 512 160 512c70.7 0 128-57.3 128-128 0-23.3-6.2-45.2-17.1-64h22.6c25.5 0 49.9-10.1 67.9-28.1l26.5-26.5c6-6 14.1-9.4 22.6-9.4h5.5c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32-25.7 0-41.4-12.5-51.2-25.6-5-6.7-8.4-13.4-10.5-18.6-1.1-2.5-1.8-4.6-2.2-6-.2-.7-.4-1.2-.5-1.5l-.1-.3c-1.9-7.3-8.6-12.4-16.2-12.1s-13.9 5.9-15.1 13.4L336 368l-15.8-2.6v.1l-.1.3c0 .3-.1.6-.2 1.1-.1.9-.3 2.1-.4 3.6-.3 3-.6 7.3-.6 12.4 0 10.1 1.1 23.9 5.8 38.1 4.8 14.3 13.4 29.3 28.6 40.7 15.4 11.6 36 18.3 62.7 18.3 53 0 96-43 96-96v-96c0-53-43-96-96-96h-5.5c-25.5 0-49.9 10.1-67.9 28.1l-26.5 26.5c-6 6-14.1 9.4-22.6 9.4h-48.3c6.9-14.5 10.8-30.8 10.8-48 0-61.9-50.1-112-112-112-25.2 0-48.5 8.3-67.2 22.4-14.1 10.6-17 30.7-6.4 44.8s30.7 17 44.8 6.4" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
