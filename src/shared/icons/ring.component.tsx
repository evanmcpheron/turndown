import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styled";
export const RingIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M64 208c0 7.8 4.4 18.7 17.1 30.3C126.5 214.1 188.9 200 256 200s129.5 14.1 174.9 38.3c12.7-11.6 17.1-22.5 17.1-30.3 0-12.3-10.8-32-47.9-50.6C364.9 139.8 314 128 256 128s-108.9 11.8-144.1 29.4C74.8 176 64 195.7 64 208m192 40c-47 0-89.3 7.6-122.9 19.7C166.3 280.2 208.8 288 256 288s89.7-7.8 122.9-20.3C345.3 255.6 303 248 256 248M0 208c0-49.6 39.4-85.8 83.3-107.8C129.1 77.3 190.3 64 256 64s126.9 13.3 172.7 36.2c43.9 22 83.3 58.2 83.3 107.8v96c0 49.6-39.4 85.8-83.3 107.8-45.8 22.9-107 36.2-172.7 36.2s-126.9-13.3-172.7-36.2C39.4 389.8 0 353.6 0 304z" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M59.7 168c8.9-9.4 22.9-19 42.1-27.6C140 123.2 194.5 112 256 112s116 11.2 154.2 28.4c19.1 8.6 33.2 18.2 42.1 27.6 8.8 9.3 11.7 17.4 11.7 24s-2.9 14.7-11.7 24c-.8.9-1.7 1.7-2.5 2.6C402.4 191.8 332.2 176 256 176s-146.4 15.8-193.8 42.6c-.9-.9-1.7-1.7-2.5-2.6-8.8-9.3-11.7-17.4-11.7-24s2.9-14.7 11.7-24M464 268.6V320c0 6.6-2.9 14.7-11.7 24-8.9 9.4-22.9 19-42.1 27.6C372 388.8 317.5 400 256 400s-116-11.2-154.2-28.4C82.7 363 68.6 353.4 59.7 344c-8.8-9.3-11.7-17.4-11.7-24v-51.4c10.3 7.1 21.8 13.3 34.1 18.9C127.9 307.9 189.4 320 256 320s128.1-12.1 173.9-32.6c12.4-5.5 23.9-11.8 34.1-18.9zM0 192v128c0 22.1 10.1 41.4 24.8 57 14.6 15.4 34.5 28.2 57.4 38.5C127.9 435.9 189.4 448 256 448s128.1-12.1 173.9-32.6c22.8-10.2 42.8-23 57.4-38.5 14.7-15.6 24.8-34.9 24.8-57V192c0-22.1-10.1-41.4-24.8-57-14.6-15.4-34.5-28.2-57.4-38.5C384.1 76.1 322.6 64 256 64S127.9 76.1 82.1 96.6c-22.8 10.2-42.8 23-57.3 38.4C10.1 150.6 0 169.9 0 192m256 80c-56.1 0-106.4-9.3-143.8-24 37.1-14.5 87.3-24 143.8-24s106.7 9.5 143.8 24c-37.4 14.7-87.7 24-143.8 24" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M93.1 127.3C133.9 108.2 191.5 96 256 96s122.1 12.2 162.9 31.3C461.1 147 480 171 480 192c0 14.3-8.7 30-27.6 44.8-6.3-3.7-13-7.2-19.9-10.4-46-21.6-108.4-34.4-176.5-34.4s-130.5 12.8-176.5 34.3c-6.9 3.2-13.6 6.7-19.9 10.4C40.7 222 32 206.3 32 192c0-21 18.9-45 61.1-64.7m386.9 128V320c0 21-18.9 45-61.1 64.7C378.1 403.8 320.5 416 256 416s-122.1-12.2-162.9-31.3C50.9 365 32 341 32 320v-64.7c13.2 11.8 29.5 22 47.5 30.4 46 21.5 108.4 34.3 176.5 34.3s130.5-12.8 176.5-34.3c18-8.4 34.4-18.6 47.5-30.4M0 192v128c0 40.8 34.8 72.8 79.5 93.7 46 21.5 108.4 34.3 176.5 34.3s130.5-12.8 176.5-34.3c44.7-20.9 79.5-52.9 79.5-93.7V192c0-40.8-34.8-72.8-79.5-93.7C386.5 76.8 324.1 64 256 64S125.5 76.8 79.5 98.3C34.8 119.2 0 151.2 0 192m93.1 64.7-1.5-.7 1.5-.7C133.9 236.2 191.5 224 256 224s122.1 12.2 162.9 31.3l1.5.7-1.5.7C378.1 275.8 320.5 288 256 288s-122.1-12.2-162.9-31.3" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M84.1 114.3C127.7 93.3 188.5 80 256 80s128.3 13.3 171.9 34.3C472 135.7 496 163.7 496 192c0 18.7-10.5 37.3-30.4 53.9-9.2-6.6-19.6-12.6-30.8-18C388.7 205.6 325.4 192 256 192s-132.7 13.6-178.8 35.9c-11.2 5.4-21.5 11.4-30.8 18C26.5 229.3 16 210.7 16 192c0-28.3 24-56.3 68.1-77.7M511.5 184c-4.1-34.4-34.3-63.5-76.7-84.1C388.7 77.6 325.4 64 256 64S123.3 77.6 77.2 99.9C34.8 120.5 4.6 149.6.5 184H0v136.5c0 37.8 31.6 69.7 77.2 91.7C123.3 434.5 186.6 448 256 448s132.7-13.5 178.8-35.8c45.6-22 77.2-53.9 77.2-91.7V184zM496 237.2v83.3c0 28.2-24 56-68.1 77.3-43.6 21-104.3 34.2-171.9 34.2s-128.3-13.2-171.9-34.2C40 376.5 16 348.7 16 320.5v-83.3c13.6 18.4 35.1 34.2 61.2 46.8 46.1 22.4 109.4 36 178.8 36s132.7-13.6 178.8-35.9c26.1-12.6 47.5-28.5 61.2-46.8zM84.1 269.7c-8.9-4.3-17-8.9-24.2-13.7 7.2-4.8 15.3-9.4 24.2-13.7 43.6-21 104.4-34.3 171.9-34.3s128.3 13.3 171.9 34.3c8.9 4.3 17 8.9 24.2 13.7-7.2 4.8-15.3 9.4-24.2 13.7-43.6 21-104.4 34.3-171.9 34.3s-128.3-13.3-171.9-34.3" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M411.1 255.2C434.3 242 448 225.6 448 208c0-44.2-86-80-192-80S64 163.8 64 208c0 17.6 13.7 34 36.9 47.2C141.2 235.9 195.8 224 256 224s114.8 11.9 155.1 31.2"
                />
                <Path d="M111.9 157.4C147.1 139.8 198 128 256 128s108.9 11.8 144.1 29.4C437.2 176 448 195.7 448 208s-10.8 32-47.9 50.6C364.9 276.2 314 288 256 288s-108.9-11.8-144.1-29.4C74.8 240 64 220.3 64 208s10.8-32 47.9-50.6m-28.6-57.2C39.4 122.2 0 158.4 0 208v96c0 49.6 39.4 85.8 83.3 107.8 45.8 22.9 107 36.2 172.7 36.2s126.9-13.3 172.7-36.2c43.9-22 83.3-58.2 83.3-107.8v-96c0-49.6-39.4-85.8-83.3-107.8C382.9 77.3 321.7 64 256 64S129.1 77.3 83.3 100.2" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
