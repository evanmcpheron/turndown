import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styled";
export const SkeletonIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M256 0c17.7 0 32 14.3 32 32v32h128c17.7 0 32 14.3 32 32s-14.3 32-32 32H288v32h192c17.7 0 32 14.3 32 32s-14.3 32-32 32H288v32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32h-96v64c0 .8 0 1.6-.1 2.3l67.6-29c8.3-3.5 17.2-5.4 26.1-5.4 36.7 0 66.4 29.7 66.4 66.4v1.5c0 18-7.2 35.3-19.9 48l-25.8 25.8c-11.7 11.7-27.6 18.3-44.1 18.3H153.9c-16.6 0-32.4-6.6-44.1-18.3l-25.9-25.7c-12.7-12.7-19.9-30-19.9-48v-1.5c0-36.7 29.7-66.4 66.4-66.4 9 0 17.9 1.8 26.1 5.4l67.6 29c-.1-.8-.1-1.5-.1-2.3V320h-96c-17.7 0-32-14.3-32-32s14.3-32 32-32h96v-32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h192v-32H96c-17.7 0-32-14.3-32-32s14.3-32 32-32h128V32c0-17.7 14.3-32 32-32m-72 440a24 24 0 1 0-48 0 24 24 0 1 0 48 0m192 0a24 24 0 1 0-48 0 24 24 0 1 0 48 0" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M256 0c13.3 0 24 10.7 24 24v40h144c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v48h208c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v48h112c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v85.7l75.5-32.3c8.3-3.5 17.2-5.4 26.1-5.4 36.7 0 66.4 29.7 66.4 66.4v1.5c0 18-7.2 35.3-19.9 48l-25.8 25.8c-11.7 11.7-27.6 18.3-44.1 18.3H153.9c-16.6 0-32.4-6.6-44.1-18.3l-25.9-25.8c-12.7-12.7-19.9-30-19.9-48v-1.5c0-36.7 29.7-66.4 66.4-66.4 9 0 17.9 1.8 26.1 5.4l75.5 32.3V304H120c-13.3 0-24-10.7-24-24s10.7-24 24-24h112v-48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24h208v-48H88c-13.3 0-24-10.7-24-24s10.7-24 24-24h144V24c0-13.3 10.7-24 24-24m-72 440a24 24 0 1 0-48 0 24 24 0 1 0 48 0m192 0a24 24 0 1 0-48 0 24 24 0 1 0 48 0" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M256 0c8.8 0 16 7.2 16 16v48h144c8.8 0 16 7.2 16 16s-7.2 16-16 16H272v64h208c8.8 0 16 7.2 16 16s-7.2 16-16 16H272v64h112c8.8 0 16 7.2 16 16s-7.2 16-16 16H272v75.4l86.6-24.7c6.3-1.8 12.8-2.7 19.3-2.7 38.8 0 70.2 31.4 70.2 70.2v5.2c0 18.5-6.8 36.3-19 50.1l-26.9 30.2c-11.5 12.9-28 20.3-45.3 20.3H155.2c-17.3 0-33.8-7.4-45.3-20.3L83 461.4c-12.3-13.8-19-31.6-19-50.1v-5.2c0-38.8 31.4-70.2 70.2-70.2 6.5 0 13 .9 19.3 2.7l86.5 24.8V288H128c-8.8 0-16-7.2-16-16s7.2-16 16-16h112v-64H32c-8.8 0-16-7.2-16-16s7.2-16 16-16h208V96H96c-8.8 0-16-7.2-16-16s7.2-16 16-16h144V16c0-8.8 7.2-16 16-16M96 406.2v5.2c0 10.6 3.9 20.9 11 28.8l26.9 30.2c5.4 6.1 13.2 9.6 21.4 9.6h201.5c8.2 0 15.9-3.5 21.4-9.6l26.8-30.2c7.1-7.9 11-18.2 11-28.8v-5.2c0-21.1-17.1-38.2-38.2-38.2-3.5 0-7.1.5-10.5 1.5l-93.8 26.8c-11.5 3.3-23.7 3.3-35.2 0l-93.8-26.8q-5.1-1.5-10.5-1.5c-20.9 0-38 17.1-38 38.2m64 25.8a24 24 0 1 1 48 0 24 24 0 1 1-48 0m152 0a24 24 0 1 1 48 0 24 24 0 1 1-48 0" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M256 0c4.4 0 8 3.6 8 8v72h152c4.4 0 8 3.6 8 8s-3.6 8-8 8H264v80h216c4.4 0 8 3.6 8 8s-3.6 8-8 8H264v80h120c4.4 0 8 3.6 8 8s-3.6 8-8 8H264v77.7c.3-.1.5-.1.8-.2l93.8-26.8c6.3-1.8 12.8-2.7 19.3-2.7 38.8 0 70.2 31.4 70.2 70.2v5.2c0 18.5-6.8 36.3-19 50.1l-26.9 30.2c-11.5 12.9-28 20.3-45.3 20.3H155.2c-17.3 0-33.8-7.4-45.3-20.3L83 461.4c-12.3-13.8-19-31.6-19-50.1v-5.2c0-38.8 31.4-70.2 70.2-70.2 6.5 0 13 .9 19.3 2.7l93.8 26.8c.3.1.5.1.8.2V288H128c-4.4 0-8-3.6-8-8s3.6-8 8-8h120v-80H32c-4.4 0-8-3.6-8-8s3.6-8 8-8h216V96H96c-4.4 0-8-3.6-8-8s3.6-8 8-8h152V8c0-4.4 3.6-8 8-8m0 384c-1.7 0-3.4-.6-4.7-1.5-2.9-.3-5.7-.8-8.5-1.6L149 354.1c-4.8-1.4-9.8-2.1-14.9-2.1-29.8 0-54.1 24.3-54.1 54.2v5.2c0 14.5 5.3 28.6 15 39.4l26.9 30.2c8.5 9.5 20.6 15 33.3 15h201.6c12.7 0 24.9-5.4 33.3-15l26.9-30.2c9.7-10.9 15-24.9 15-39.4v-5.2c0-29.9-24.3-54.2-54.2-54.2-5 0-10 .7-14.9 2.1l-93.8 26.8c-2.8.8-5.6 1.3-8.5 1.6-1.3 1-2.9 1.5-4.7 1.5zm-88 48a16 16 0 1 0 32 0 16 16 0 1 0-32 0m16 32a32 32 0 1 1 0-64 32 32 0 1 1 0 64m136-32a16 16 0 1 0 32 0 16 16 0 1 0-32 0m16 32a32 32 0 1 1 0-64 32 32 0 1 1 0 64" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M224 64H96c-17.7 0-32 14.3-32 32s14.3 32 32 32h128zm0 96H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h192zm64 64h192c17.7 0 32-14.3 32-32s-14.3-32-32-32H288zm-64 32h-96c-17.7 0-32 14.3-32 32s14.3 32 32 32h96zm64 64h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-96zm0-192h128c17.7 0 32-14.3 32-32s-14.3-32-32-32H288z"
                />
                <Path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32v354.3l-67.5-28.9c-8.3-3.5-17.2-5.4-26.1-5.4-36.7 0-66.4 29.7-66.4 66.4v1.5c0 18 7.2 35.3 19.9 48l25.8 25.8c11.7 11.7 27.6 18.3 44.1 18.3h204.3c16.6 0 32.4-6.6 44.1-18.3l25.8-25.8c12.7-12.7 19.9-30 19.9-48v-1.5c0-36.7-29.7-66.4-66.4-66.4-9 0-17.9 1.8-26.1 5.4L288 386.3zM136 440a24 24 0 1 1 48 0 24 24 0 1 1-48 0m216-24a24 24 0 1 1 0 48 24 24 0 1 1 0-48" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
