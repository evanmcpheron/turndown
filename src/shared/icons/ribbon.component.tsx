import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styles";
export const RibbonIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 448 512" fill={colors[colorName || "text"]}>
                <Path d="m333.2 322.8-133.9-146-53.3-58.2c7.8-5.1 37-22.6 78-22.6s70.2 17.4 78 22.6L245.7 180l85.6 93.4 27.4-29.8c16.3-17.7 25.3-40.9 25.3-65v-29.5c0-19-5.6-37.5-16.1-53.3l-40.1-60.2C312.9 13.4 287.9 0 261.2 0h-76c-25.8 0-50.1 12.5-65.1 33.5L81.9 87C70.3 103.2 64 122.8 64 142.8V164c0 23.2 8.4 45.6 23.6 63.1l56 64.2 83.3 95.6 91.8 105.3c10 11.5 26.8 14.3 40 6.8l54.5-31.1c17.8-10.2 21.6-34.3 7.7-49.4zm-128 87.8L121.9 315 27.1 418.5c-13.9 15.1-10.1 39.2 7.7 49.4l55.1 31.5c13 7.4 29.3 4.9 39.4-6.1l75.9-82.6z" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 448 512" fill={colors[colorName || "text"]}>
                <Path d="m6.5 415.6 96.6-103.4 32.9 35.2-75.5 80.8 40.3 28.2 68.5-73.3 32.8 35.1-80.5 86.2c-8.2 8.7-21.5 10.1-31.3 3.3l-80-56c-5.7-4-9.4-10.2-10.1-17.2s1.6-13.8 6.3-18.9m239.4-256.2 7-7.5c12.3-13.1 19.1-30.4 19.1-48.4 0-15.3-5-30.2-14.1-42.5l-9.3-12.5c-7.3-.4-15.5-.6-24.4-.6V0c14.8 0 27.9.6 39 1.5 9.1.7 17 1.7 23.5 2.6 21.2 3.1 38.2 15.4 49.5 30.6l40.2 53.6c15.4 20.6 23.7 45.6 23.7 71.3 0 30.1-11.4 59.1-32 81.2l-23 24.6-32.8-35.2 20.6-22.2c12.3-13.1 19.1-30.4 19.1-48.4 0-15.3-5-30.2-14.2-42.5l-18.3-24.5c.3 3.6.5 7.3.5 11 0 30.1-11.4 59.1-32 81.2l-9.2 9.8-32.8-35.2zM224 48c-8.9 0-17.1.2-24.4.6l-9.3 12.5c-9.2 12.3-14.1 27.2-14.1 42.5 0 18 6.8 35.3 19.1 48.4l246.2 263.6c4.7 5.1 7.1 12 6.3 18.9s-4.4 13.2-10.1 17.2l-80 56c-9.8 6.9-23.1 5.5-31.3-3.3L80.1 240.7c-20.6-22-32-51-32-81.2 0-25.7 8.3-50.7 23.7-71.3L112 34.7c11.4-15.2 28.4-27.5 49.5-30.6 6.6-1 14.4-1.9 23.5-2.6C196.1.6 209.2 0 224 0zm-113.8 69.1c-9.2 12.3-14.1 27.2-14.1 42.5 0 18 6.8 35.3 19.1 48.4l232.1 248.4 40.3-28.2-227.5-243.5c-20.6-22-32-51-32-81.2 0-3.7.2-7.4.5-11L110.2 117z" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 448 512" fill={colors[colorName || "text"]}>
                <Path d="M228 0h-4v.1c-13.3.2-29.2.7-38.3 1.4s-17 1.7-23.5 2.6c-18.3 2.7-33.3 13.3-43.6 26.7L70.8 92.9C56 112.1 48 135.6 48 159.9c0 27.9 10.6 54.8 29.7 75.1l254.6 271.9c5.4 5.8 14.3 6.7 20.9 2.2l80-56c3.8-2.6 6.2-6.8 6.7-11.3s-1-9.1-4.1-12.5L172.4 139.5c-2.8-3-4.3-7-4.3-11.1 0-9.1 7.4-16.5 16.5-16.5h78.9c9.1 0 16.5 7.4 16.5 16.5 0 4.1-1.5 8-4.3 11.1l-30 33 21.6 23.8 32.1-35.3c8.1-8.9 12.6-20.5 12.6-32.6 0-26.8-21.7-48.5-48.5-48.5h-79c-26.8 0-48.5 21.7-48.5 48.5 0 12.1 4.5 23.7 12.6 32.6l251.3 276.3-53.7 37.6-245.1-261.7c-13.5-14.4-21-33.5-21-53.2 0-17.2 5.7-33.9 16.1-47.5l47.7-62.1c6.3-8.2 14.4-13.3 23-14.6 5.8-.9 12.9-1.7 21.4-2.4 9-.7 26.1-1.3 39.7-1.4 12.1.1 22.8.6 31.9 1.4 8.5.7 15.6 1.6 21.4 2.4 8.6 1.3 16.7 6.4 23 14.6l47.7 62.1c10.5 13.6 16.1 30.3 16.1 47.5 0 19.8-7.5 38.8-21 53.2L314.3 248l21.6 23.8 34.4-36.8c19.1-20.4 29.7-47.2 29.7-75.1 0-24.2-8-47.8-22.8-67l-47.7-62c-10.3-13.4-25.3-24-43.6-26.7-6.5-1-14.3-1.9-23.5-2.6-8.9-.8-19-1.4-30.4-1.5V0zM112.5 319 12.2 429.2c-3.1 3.4-4.6 8-4.1 12.5s3 8.7 6.7 11.3l80 56c6.5 4.6 15.4 3.6 20.9-2.2l86.4-92.2-21.9-23.4-78.3 83.7-53.7-37.6 86.3-94.9z" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 448 512" fill={colors[colorName || "text"]}>
                <Path d="M228 0h-4v.1c-13.2.2-28.8.7-37.7 1.4-1.6.1-3.2.3-4.7.4-27.9 2.6-51 19.2-66.7 41.1L75.4 98.3c-12.6 17.7-19.3 38.9-19.3 60.6 0 26.4 10.1 52 28.1 71.3l262 279.3c2.7 2.9 7.2 3.4 10.4 1.1l80-56c1.9-1.3 3.1-3.4 3.4-5.7s-.5-4.6-2-6.3L166.5 144.9c-4.1-4.5-6.4-10.4-6.4-16.5 0-13.5 10.9-24.4 24.4-24.4h79.1c13.5 0 24.4 10.9 24.4 24.4 0 6.1-2.3 12-6.4 16.5l-30.5 33.5 10.8 11.9 31.5-34.6c6.8-7.5 10.6-17.2 10.6-27.3 0-22.3-18.1-40.4-40.4-40.4h-79.1c-22.3 0-40.4 18.1-40.4 40.4 0 10.1 3.8 19.8 10.6 27.3l265.3 291-66.9 46.8L95.9 219.2c-15.3-16.3-23.8-38-23.8-60.4 0-18.3 5.7-36.3 16.4-51.2L128 52.3c13.6-19.1 32.9-32.4 55.1-34.5 1.5-.1 3-.3 4.5-.4 9.2-.8 26.7-1.3 40.3-1.4 12.3.1 23.2.6 32.5 1.4 1.6.1 3.1.3 4.5.4 22.2 2.1 41.5 15.4 55.1 34.5l39.5 55.3c10.6 14.9 16.4 32.9 16.4 51.2 0 22.4-8.5 44.1-23.8 60.4l-32.4 34.5 10.8 11.9 33.2-35.4c18.1-19.3 28.1-44.9 28.1-71.3 0-21.6-6.8-42.9-19.3-60.5L333.2 43c-15.7-21.9-38.8-38.5-66.7-41.1-1.5-.1-3.1-.3-4.7-.4C253.1.8 243.1.2 232 .1V0zM117.9 324.5 10.2 442.6c-1.6 1.7-2.3 4-2 6.3s1.5 4.4 3.4 5.7l80 56c3.3 2.3 7.7 1.8 10.4-1.1l94.7-101-11-11.7L95 493.5l-66.9-46.8 100.7-110.5-11-11.7z" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 448 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M146 118.6c7.8-5.1 37-22.6 78-22.6s70.2 17.4 78 22.6L352 64l-24-32c-15.1-20.1-38.8-32-64-32h-80c-25.2 0-48.9 11.9-64 32L96 64zm-2.4 172.7L27.1 418.5c-13.9 15.1-10.1 39.2 7.7 49.4l55.1 31.5c13 7.4 29.3 4.9 39.4-6.1L227 387l-83.3-95.6z"
                />
                <Path d="m96 64 324.9 354.5c13.9 15.1 10.1 39.2-7.7 49.4L358.8 499c-13.2 7.6-30 4.7-40-6.8L87.6 227.1A96.24 96.24 0 0 1 64 164v-23c0-19 5.6-37.5 16.1-53.3zm232.4 206.2L245.7 180 352 64l19.4 33.9c8.3 14.5 12.6 30.9 12.6 47.6v25.8c0 23.6-8.7 46.4-24.5 64l-31.2 34.8z" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
