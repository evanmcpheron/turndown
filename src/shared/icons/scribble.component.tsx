import { useTheme } from "@/src/contexts/theme";
import { TurndownObject } from "@/src/types";
import { IconProps } from "@/src/types/common/style.types";
import React, { useRef } from "react";
import Svg, { Path } from "react-native-svg";
import { usePointerEvent } from "../hooks/usePointerEvent.hook";
import { removeUndefined } from "../lib/object";
import { StyledIcon } from "./shared/icon.styles";
export const ScribbleIcon: React.FC<
  IconProps & {
    type: "solid" | "regular" | "light" | "thin" | "duotone";
  }
> = ({
  type,
  size,
  color: colorName,
  active,
  style,
  opacity,
  haptic,
  ...more
}) => {
  const { colors } = useTheme();

  const domRef: TurndownObject = useRef(null);

  const { onPress, onMove, onUp, onDown, groupId } = more;
  const pointerEvents = {
    onPress,
    onMove,
    onUp,
    onDown,
    groupId,
  };

  usePointerEvent({ element: domRef, active: active, ...pointerEvents });

  const internalProperties = removeUndefined({
    style: style || {},
    pointerEvents,
    haptic,
    active,
    size,
    color: colors[colorName || "text"],
  });

  return (
    <StyledIcon ref={domRef} {...internalProperties}>
      {(() => {
        switch (type) {
          case "solid":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M170 23.3C186.5 8.3 208 0 230.3 0h1.1C280.3 0 320 39.7 320 88.6c0 23.5-9.3 46-25.9 62.6L103.2 342.1c-4.6 4.6-7.2 10.9-7.2 17.4 0 13.5 11 24.5 24.6 24.5 6.5 0 12.8-2.6 17.4-7.2l222.8-222.9c16.6-16.6 39.1-25.9 62.6-25.9 48.9 0 88.6 39.7 88.6 88.6 0 23.5-9.3 46-25.9 62.6l-88.2 88.2c-8.8 8.8-13.8 20.9-13.8 33.4 0 26 21.1 47.1 47 47.1 6.2 0 12.4-1.5 18-4.2l16.7-8.4c15.8-7.9 35-1.5 42.9 14.3s1.5 35-14.3 42.9l-16.8 8.5c-14.5 7.2-30.4 11-46.6 11-61.4 0-111-49.9-111-111.1 0-29.5 11.7-57.8 32.6-78.7l88.2-88.2c4.6-4.6 7.2-10.9 7.2-17.4 0-13.6-11-24.6-24.6-24.6-6.5 0-12.8 2.6-17.4 7.2L183.2 422.1c-16.6 16.6-39.1 25.9-62.6 25.9-48.9 0-88.6-39.7-88.6-88.6 0-23.5 9.3-46 25.9-62.6l190.9-190.9c4.6-4.6 7.2-10.9 7.2-17.4C256 75 245 64 231.4 64h-1.1c-6.4 0-12.6 2.4-17.3 6.7l-159.5 145c-13.1 11.9-33.3 10.9-45.2-2.2s-10.9-33.3 2.2-45.2z" />
              </Svg>
            );

          case "regular":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M183.3 21.4C198.3 7.7 218 0 238.4 0h1C283.9 0 320 36.1 320 80.6c0 21.4-8.5 41.9-23.6 57L89.5 344.4c-6.1 6.1-9.5 14.4-9.5 23 0 18 14.6 32.6 32.6 32.6 8.6 0 16.9-3.4 23-9.5l238.9-238.9c15.1-15.1 35.6-23.6 57-23.6 44.5 0 80.6 36.1 80.6 80.6 0 21.4-8.5 41.9-23.6 57L384.2 369.8c-10.4 10.3-16.2 24.4-16.2 39 0 30.5 24.7 55.2 55.2 55.2h4.4c5.6 0 11.2-.9 16.6-2.7l36.2-12.1c12.6-4.2 26.2 2.6 30.4 15.2s-2.6 26.2-15.2 30.4l-36.2 12.1c-10.2 3.4-21 5.2-31.8 5.2h-4.4c-57 0-103.2-46.2-103.2-103.2 0-27.4 10.9-53.6 30.2-73l104.3-104.3c6.1-6.1 9.5-14.4 9.5-23 0-18-14.6-32.6-32.6-32.6-8.6 0-16.9 3.4-23 9.5L169.5 424.4a80.6 80.6 0 0 1-57 23.6C68.1 448 32 411.9 32 367.4c0-21.4 8.5-41.9 23.6-57l206.9-206.8c6.1-6.1 9.5-14.4 9.5-23 0-18-14.6-32.6-32.6-32.6h-1c-8.4 0-16.5 3.2-22.7 8.8L40.2 217.7c-9.8 9-25 8.3-33.9-1.5s-8.3-25 1.5-33.9z" />
              </Svg>
            );

          case "light":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M196.6 19.5C210.2 7 228 0 246.5 0h.9C287.5 0 320 32.5 320 72.6c0 19.2-7.6 37.7-21.3 51.3L75.9 346.7c-7.6 7.7-11.9 18-11.9 28.7 0 22.4 18.2 40.6 40.6 40.6 10.8 0 21.1-4.3 28.7-11.9l254.8-254.8c13.6-13.6 32.1-21.3 51.3-21.3 40.1 0 72.6 32.5 72.6 72.6 0 19.2-7.6 37.7-21.3 51.3L370.5 372.1c-11.8 11.8-18.5 28-18.5 44.8 0 34.8 28.2 63.1 63 63.1 8.7 0 17.3-2 25.1-5.9l48.8-24.4c7.9-4 17.5-.7 21.5 7.2s.7 17.5-7.2 21.5l-48.8 24.4a88.46 88.46 0 0 1-39.4 9.3c-52.5 0-95-42.7-95-95.1 0-25.2 10-49.5 27.9-67.4l120.2-120.3c7.6-7.6 11.9-17.9 11.9-28.7 0-22.4-18.2-40.6-40.6-40.6-10.8 0-21.1 4.3-28.7 11.9L155.9 426.7c-13.6 13.6-32.1 21.3-51.3 21.3-40.1 0-72.6-32.5-72.6-72.6 0-19.2 7.6-37.7 21.3-51.3l222.8-222.8c7.6-7.6 11.9-17.9 11.9-28.7 0-22.4-18.2-40.6-40.6-40.6h-.9c-10.4 0-20.5 3.9-28.2 11L26.9 219.8c-6.5 6-16.6 5.6-22.6-.9s-5.6-16.6.9-22.6z" />
              </Svg>
            );

          case "thin":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path d="M210 17.5C222.1 6.2 238 0 254.6 0h.9C291.1 0 320 28.9 320 64.6c0 17.1-6.8 33.5-18.9 45.7L62.2 349.1c-9.1 9.1-14.2 21.5-14.2 34.3 0 26.9 21.7 48.6 48.6 48.6 12.9 0 25.2-5.1 34.3-14.2l270.9-270.9c12.1-12.1 28.5-18.9 45.7-18.9 35.7 0 64.6 28.9 64.6 64.6 0 17.1-6.8 33.5-18.9 45.7L356.9 374.5C343.5 387.9 336 406 336 424.8v2.6c0 37.9 30.7 68.6 68.6 68.6 11.2 0 22.3-3.1 31.9-8.8l63.4-38c3.8-2.3 8.7-1 11 2.7s1 8.7-2.7 11l-63.4 38c-12.1 7.3-26 11.1-40.2 11.1-46.7 0-84.6-37.9-84.6-84.6v-2.6c0-23.1 9.2-45.3 25.5-61.7l136.3-136.2c9.1-9.1 14.2-21.5 14.2-34.3 0-26.8-21.7-48.6-48.6-48.6-12.9 0-25.2 5.1-34.3 14.2L142.2 429.1A64.5 64.5 0 0 1 96.6 448C60.9 448 32 419.1 32 383.4c0-17.1 6.8-33.5 18.9-45.7L289.8 98.9c9.1-9.1 14.2-21.5 14.2-34.3 0-26.9-21.7-48.6-48.6-48.6h-.9c-12.5 0-24.5 4.7-33.6 13.2L13.4 221.9c-3.2 3-8.3 2.8-11.3-.4s-2.8-8.3.4-11.3z" />
              </Svg>
            );

          case "duotone":
            return (
              <Svg viewBox="0 0 512 512" fill={colors[colorName || "text"]}>
                <Path
                  fill={colors[colorName || "text"]}
                  opacity={opacity || 0.5}
                  d="M170 23.3C186.5 8.3 208 0 230.3 0h1.1C280.3 0 320 39.7 320 88.6c0 23.5-9.3 46-25.9 62.6L103.2 342.1c-4.6 4.6-7.2 10.9-7.2 17.4 0 13.5 11 24.5 24.6 24.5 6.5 0 12.8-2.6 17.4-7.2l222.8-222.9c16.6-16.6 39.1-25.9 62.6-25.9 48.9 0 88.6 39.7 88.6 88.6 0 23.5-9.3 46-25.9 62.6l-88.2 88.2c-8.8 8.8-13.8 20.9-13.8 33.4 0 26 21.1 47.1 47 47.1 6.2 0 12.4-1.5 18-4.2l16.7-8.4c15.8-7.9 35-1.5 42.9 14.3s1.5 35-14.3 42.9l-16.8 8.5c-14.5 7.2-30.4 11-46.6 11-61.4 0-111-49.9-111-111.1 0-29.5 11.7-57.8 32.6-78.7l88.2-88.2c4.6-4.6 7.2-10.9 7.2-17.4 0-13.6-11-24.6-24.6-24.6-6.5 0-12.8 2.6-17.4 7.2L183.2 422.1c-16.6 16.6-39.1 25.9-62.6 25.9-48.9 0-88.6-39.7-88.6-88.6 0-23.5 9.3-46 25.9-62.6l190.9-190.9c4.6-4.6 7.2-10.9 7.2-17.4C256 75 245 64 231.4 64h-1.1c-6.4 0-12.6 2.4-17.3 6.7l-159.5 145c-13.1 11.9-33.3 10.9-45.2-2.2s-10.9-33.3 2.2-45.2z"
                />
                <Path d="" />
              </Svg>
            );

          default:
            return null;
        }
      })()}
    </StyledIcon>
  );
};
